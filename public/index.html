<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Practice Sight Words</title>
<script type="text/javascript" src="javascripts/jquery-1.9.0.js"></script>
<script type="text/javascript" src="javascripts/jquery-ui-1.10.0.custom.js"></script>
<link rel="stylesheet" href="stylesheets/jquery-ui-1.10.0.custom.css" />
<style type="text/css">
#options {
  width: 32px;
}
#navbar, #header {
  -moz-column-count: 3; /* Firefox */
  -webkit-column-count: 3; /* Safari and Chrome */
  column-count: 3;
  text-align: center;
  margin-top: 3em;
}
#shuffle {
}
#previous {
	padding: 1.4em 2em;
}
#next {
	padding: 1.4em 2em;
}
#the_word {
  font-size: 216px;
  font-family: Verdana;
  font-weight: bold;
  color: black;
  width: auto;
  margin: auto;
  text-align: center;
  height: 400px;
  line-height: 400px;
}
#word_index {
  font-size: 9px;
  font-family: Helvetica;
  color: #ddd;
  width: auto;
  text-align: center;
}
</style>
<script type="text/javascript">
$(document).ready(function() {

  sightiesApp = {
    wordList : new Array(),
    wordIndex : 0,
    showNewWord : function() {
      $("#the_word").html(this.wordList[this.wordIndex]);
    },
    updateButtons : function() {
      if (this.wordIndex == 0) {
        $( "#previous" ).button( "option", "disabled", true );
      } else {
        $( "#previous" ).button( "option", "disabled", false );
      }
      if (this.wordIndex == this.wordList.length - 1) {
        $("#next").button( "option", "disabled", true );
      } else {
        $("#next").button( "option", "disabled", false );
      }
    },
    updateDisplay : function() {
      this.updateButtons();
      this.showNewWord();
      $("#word_index").html((this.wordIndex + 1) + " / " + this.wordList.length);
      return true;
    },
    previous : function() {
      this.decrementIndex();
      this.updateDisplay();
    },
    next : function() {
      this.incrementIndex();
      this.updateDisplay();
    },
    decrementIndex : function() {
      if (this.wordIndex > 0) {
        this.wordIndex = this.wordIndex - 1;
      }
    },
    incrementIndex : function() {
      if (this.wordIndex < this.wordList.length - 1) {
        this.wordIndex = this.wordIndex + 1;
      }
    },
    loadOrdered : function() {
      this.load('ordered');
    },
    loadShuffled : function() {
      this.load('shuffled');
    },
    load : function(opts) {
      var queryStr = '?' + opts + '=true';
      $.getJSON('words.json' + queryStr, function(data) {
        var items = new Array();
        var i;

        for (i = 0; i < data.length; i++) {
          items.push(data[i]['name']);
        }
        sightiesApp.wordList = items;
        sightiesApp.wordIndex = 0;
        sightiesApp.updateDisplay();
      });
    }
  };

  sightiesApp.loadOrdered();

  $(document).keydown(function(e){
    if (e.keyCode == 37) { // left arrow
      sightiesApp.previous();
      return false;
    } else if (e.keyCode == 39) { // right arrow
      sightiesApp.next();
      return false;
    }
  });

  $("#previous").click(function(e) {
    sightiesApp.previous();
    return false;
  });

  $("#next").click(function(e) {
    sightiesApp.next();
    return false;
  });

  $("#shuffle").click(function(e) {
    sightiesApp.loadShuffled();
    return false;
  });

  $( "button#previous, button#next" )
    .button()
    .click(function( event ) {
      event.preventDefault();
    });

  $( "#dialog-options" ).dialog({
    autoOpen: false,
    resizable: false,
    height:240,
    modal: true,
    buttons: {
      "OK": function() {
        $( this ).dialog( "close" );
      }
    }
  });

  $( "#options" ).click(function() {
    $( "#dialog-options" ).dialog( "open" );
  });

});
</script>
</head>
<body>
  <div id="header">
    <img id="options" src="images/options.png" alt="Options" />
    <br />
    <div id="word_index"></div>
  </div>
  <div id="the_word">Sighties</div>
  <div id="navbar">
    <button id="previous">Previous</button>
    <br />
    <br />
    <button id="next">Next</button>
  </div>
  <div id="dialog-options" title="Sighties Options">
    <p style="text-align: center;">
      <button id="shuffle">Shuffle</button>
    </p>
  </div>
</body>
</html>
